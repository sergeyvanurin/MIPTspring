Turbo Assembler	 Version 4.1	    02/19/20 16:50:19	    Page 1
ramka.asm



      1	0000			     .model tiny
      2	0000			     .code
      3				     org 100h
      4	      =0019		     SCREEN_WIDTH equ 25
      5	      =0050		     SCREEN_LENGTH equ 80
      6	      =000F		     BOX_WIDTH equ 15
      7	      =0028		     BOX_LENGTH	equ 40
      8	      =B800		     VIDEO_SEG equ 0b800h
      9	      =4221		     RED_EXCLAMATION equ 4221h
     10	      =42BA		     VERTICAL_LINE equ 42bah
     11	      =42CD		     HOR_LINE equ 42cdh
     12	      =42C9		     TL_CORNER equ 42c9h
     13	      =42BB		     TR_CORNER equ 42bbh
     14	      =42C8		     BL_CORNER equ 42c8h
     15	      =42BC		     BR_CORNER equ 42bch
     16	      =2221		     GREEN_SHADOW equ 2221h
     17
     18
     19	0100			     start:
     20	0100  BB B800					     mov bx, VIDEO_SEG
     21	0103  8E C3					     mov es, bx
     22	0105  BB 0348					     mov bx, (SCREEN_LENGTH * (SCREEN_WIDTH - BOX_WIDTH) / 2 +		    +
     23				     (SCREEN_LENGTH - BOX_LENGTH) / 2)*2
     24	0108  B9 0000					     mov cx, 0h
     25	010B  B8 0000					     mov ax, 0h
     26	010E  EB 24 90					     jmp loop2_start
     27	0111			     loop1_start:
     28	0111  83 F9 26					     cmp cx, BOX_LENGTH	- 2
     29	0114  74 2C					     je	loop2_return
     30	0116  3D 0000					     cmp ax, 0
     31	0119  74 6A					     je	draw_border
     32	011B  3D 000E					     cmp ax, BOX_WIDTH - 1
     33	011E  74 65					     je	draw_border
     34	0120  26: C7 07	4221				     mov es:[bx], RED_EXCLAMATION
     35	0125			     border_return:
     36	0125  43					     inc bx
     37	0126  43					     inc bx
     38	0127  41					     inc cx
     39	0128  83 F9 26					     cmp cx, BOX_LENGTH	- 2
     40	012B  74 5F					     je	vert_shadow
     41	012D			     vert_return:
     42	012D  3D 000E					     cmp ax, BOX_WIDTH - 1
     43	0130  74 62					     je	hor_shadow
     44	0132			     hor_ret:
     45	0132  EB DD					     jmp loop1_start
     46	0134			     loop2_start:
     47	0134  3D 000F					     cmp ax, BOX_WIDTH
     48	0137  74 19					     je	loop2_end
     49	0139  26: C7 07	42BA				     mov es:[bx], VERTICAL_LINE
     50	013E  43					     inc bx
     51	013F  43					     inc bx
     52	0140  EB CF					     jmp loop1_start
     53	0142			     loop2_return:
     54	0142  26: C7 07	42BA				     mov es:[bx], VERTICAL_LINE
     55	0147  43					     inc bx
     56	0148  43					     inc bx
     57	0149  40					     inc ax
Turbo Assembler	 Version 4.1	    02/19/20 16:50:19	    Page 2
ramka.asm



     58	014A  83 C3 50					     add bx, BOX_LENGTH	* 2
     59	014D  B9 0000					     mov cx, 0h
     60	0150  EB E2					     jmp loop2_start
     61	0152			     loop2_end:
     62	0152  BB 0348					     mov bx, (SCREEN_LENGTH * (SCREEN_WIDTH - BOX_WIDTH) / 2 +		    +
     63				     (SCREEN_LENGTH - BOX_LENGTH) / 2)*2
     64	0155  26: C7 07	42C9				     mov es:[bx], TL_CORNER
     65	015A  83 C3 4E					     add bx, (BOX_LENGTH - 1) *	2
     66	015D  26: C7 07	42BB				     mov es:[bx], TR_CORNER
     67	0162  26: C7 47	02 0000				     mov word ptr es:[bx + 2], 0000h
     68	0168  81 C3 0872				     add bx, (SCREEN_LENGTH * (BOX_WIDTH - 2) +	BOX_LENGTH + 1)	* 2
     69	016C  26: C7 07	42C8				     mov es:[bx], BL_CORNER
     70	0171  83 C3 4E					     add bx, (BOX_LENGTH - 1) *	2
     71	0174  26: C7 07	42BC				     mov es:[bx], BR_CORNER
     72	0179  26: C7 87	00A2 2221			     mov es:[bx	+ (SCREEN_LENGTH + 1) *	2], GREEN_SHADOW
     73	0180  B8 4C00					     mov ax, 4c00h
     74	0183  CD 21					     int 21h
     75	0185			     draw_border:
     76	0185  26: C7 07	42CD				     mov es:[bx], HOR_LINE
     77	018A  EB 99					     jmp border_return
     78	018C			     vert_shadow:
     79	018C  26: C7 47	02 2221				     mov es:[bx	+ 2], GREEN_SHADOW
     80	0192  EB 99					     jmp vert_return
     81	0194			     hor_shadow:
     82	0194  26: C7 87	00A0 2221			     mov es:[bx	+ SCREEN_LENGTH	* 2], GREEN_SHADOW
     83	019B  EB 95					     jmp hor_ret
     84
     85				     end start
Turbo Assembler	 Version 4.1	    02/19/20 16:50:19	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/19/20"
??FILENAME			  Text	 "ramka	  "
??TIME				  Text	 "16:50:19"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 RAMKA
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
BL_CORNER			  Number 42C8
BORDER_RETURN			  Near	 DGROUP:0125
BOX_LENGTH			  Number 0028
BOX_WIDTH			  Number 000F
BR_CORNER			  Number 42BC
DRAW_BORDER			  Near	 DGROUP:0185
GREEN_SHADOW			  Number 2221
HOR_LINE			  Number 42CD
HOR_RET				  Near	 DGROUP:0132
HOR_SHADOW			  Near	 DGROUP:0194
LOOP1_START			  Near	 DGROUP:0111
LOOP2_END			  Near	 DGROUP:0152
LOOP2_RETURN			  Near	 DGROUP:0142
LOOP2_START			  Near	 DGROUP:0134
RED_EXCLAMATION			  Number 4221
SCREEN_LENGTH			  Number 0050
SCREEN_WIDTH			  Number 0019
START				  Near	 DGROUP:0100
TL_CORNER			  Number 42C9
TR_CORNER			  Number 42BB
VERTICAL_LINE			  Number 42BA
VERT_RETURN			  Near	 DGROUP:012D
VERT_SHADOW			  Near	 DGROUP:018C
VIDEO_SEG			  Number B800

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  019D Word	  Public  CODE
